# Project name
> Wildlife Tracking app

## About The Project
This is a web application used to record data for wildilfe seen in the forest.It also takes into account data for location found and rangers information

### Technology
* Java* Maven
* Gradle
* Heroku(for deploying)
* Spark 2.6.0
* Postgres
* Handlebars


### Installation

1. Clone the repo
    ```sh
    $ git clone "repository-url"
    ```
2. Have Postgres installed on your laptop

3. Wait gradle to install all the dependencies automatically

## Live site
[Live link](https://breens.herokuapp.com/)

## Usage

This is project uses Postgres to store its data, you will be required to create two
databases, the **wildlife_tracker** which is the development database by running this command in your psql terminal:

```sh
  CREATE DATABASE wildlife_tracker;
```

Then you should setup the two tables to store data from the animals and sightings class

Animals table-
```sh
  CREATE TABLE animals (id int PRIMARY KEY auto_increment, name varchar, endangered boolean, health varchar, age varchar);
```
Sightings table-
```sh
  CREATE TABLE sightings (animal_id int, location varchar, ranger_name varchar, sighting_id serial PRIMARY KEY);
```

We are not done yet :)

We will require to create a test database that we will use for our tests

  ```sh
    CREATE DATABASE wildlife_tracker_test with template wildlife_tracker ;
  ```

To build this project:

1. Open your preferred terminal

2. In your project's root directory run the project with
    ```sh
    $ gradle run
    ```
3. Then navigate to _`localhost:4567`_ to view the page

### Project description

This app has two classes: Sighting and Animal. Animal class contains the animal name, its health, and age. The Sighting class contains the animal_id, location and ranger_name.

However, in order to account for the Endangered species, the Animal class is made abstract. Endangered class and Common class then inherit the abstract class which has the properites animal name and animal id, which is generated by the database.
The Endangered class inherits its name and id from the Animal class and also declare it class specific properties such as age and health.

Both classes store data in the same animals table using Single Table Inheritance and ignoring mapping errors in the save method.

For each sighting created, the animal object should also be created that maps to the sighting.

## Behavior Driven Development

1. User navigates to the _**GET sighting/new**_, two check boxes appear that shows and hides the endangered species and common wildlife forms.

2. User submits the endangered form through the _**POST sightins/endangered/new**_ method, the input form data is stored to the animals table.

3. User submits the common form through the _**POST sightins/common/new**_ method, the input form data is stored to the animals table.

4. User navigates to the _**GET  /sightings**_, template with all sightings saved is displayed


